function n(n,r){return n<r?-1:n>r?1:n>=r?0:NaN}function r(r){let t=r,o=r;function u(n,r,t,u){for(null==t&&(t=0),null==u&&(u=n.length);t<u;){const f=t+u>>>1;o(n[f],r)<0?t=f+1:u=f}return t}return 1===r.length&&(t=(n,t)=>r(n)-t,o=function(r){return(t,o)=>n(r(t),o)}(r)),{left:u,center:function(n,r,o,f){null==o&&(o=0),null==f&&(f=n.length);const e=u(n,r,o,f-1);return e>o&&t(n[e-1],r)>-t(n[e],r)?e-1:e},right:function(n,r,t,u){for(null==t&&(t=0),null==u&&(u=n.length);t<u;){const f=t+u>>>1;o(n[f],r)>0?u=f:t=f+1}return t}}}const t=r(n).right;function o(n,r){let t;if(void 0===r)for(const r of n)null!=r&&(t<r||void 0===t&&r>=r)&&(t=r);else{let o=-1;for(let u of n)null!=(u=r(u,++o,n))&&(t<u||void 0===t&&u>=u)&&(t=u)}return t}function u(n,r){let t;if(void 0===r)for(const r of n)null!=r&&(t>r||void 0===t&&r>=r)&&(t=r);else{let o=-1;for(let u of n)null!=(u=r(u,++o,n))&&(t>u||void 0===t&&u>=u)&&(t=u)}return t}function f(n,r,t){const o=n[r];n[r]=n[t],n[t]=o}function e(r,t,e){if(i=(r=Float64Array.from(function*(n,r){if(void 0===r)for(let r of n)null!=r&&(r=+r)>=r&&(yield r);else{let t=-1;for(let o of n)null!=(o=r(o,++t,n))&&(o=+o)>=o&&(yield o)}}(r,e))).length){if((t=+t)<=0||i<2)return u(r);if(t>=1)return o(r);var i,l=(i-1)*t,a=Math.floor(l),c=o(function r(t,o,u=0,e=t.length-1,i=n){for(;e>u;){if(e-u>600){const n=e-u+1,f=o-u+1,l=Math.log(n),a=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*a*(n-a)/n)*(f-n/2<0?-1:1);r(t,o,Math.max(u,Math.floor(o-f*a/n+c)),Math.min(e,Math.floor(o+(n-f)*a/n+c)),i)}const n=t[o];let l=u,a=e;for(f(t,u,o),i(t[e],n)>0&&f(t,u,e);l<a;){for(f(t,l,a),++l,--a;i(t[l],n)<0;)++l;for(;i(t[a],n)>0;)--a}0===i(t[u],n)?f(t,u,a):(++a,f(t,a,e)),a<=o&&(u=a+1),o<=a&&(e=a-1)}return t}(r,a).subarray(0,a+1));return c+(u(r.subarray(a+1))-c)*(l-a)}}r((function(n){return null===n?NaN:+n}));var i={value:()=>{}};function l(){for(var n,r=0,t=arguments.length,o={};r<t;++r){if(!(n=arguments[r]+"")||n in o||/[\s.]/.test(n))throw new Error("illegal type: "+n);o[n]=[]}return new a(o)}function a(n){this._=n}function c(n,r){return n.trim().split(/^|\s+/).map((function(n){var t="",o=n.indexOf(".");if(o>=0&&(t=n.slice(o+1),n=n.slice(0,o)),n&&!r.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:t}}))}function s(n,r){for(var t,o=0,u=n.length;o<u;++o)if((t=n[o]).name===r)return t.value}function h(n,r,t){for(var o=0,u=n.length;o<u;++o)if(n[o].name===r){n[o]=i,n=n.slice(0,o).concat(n.slice(o+1));break}return null!=t&&n.push({name:r,value:t}),n}function v(n,r){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(r).domain(n)}return this}function w(){var r,o=[],u=[],f=[];function i(){var n=0,r=Math.max(1,u.length);for(f=new Array(r-1);++n<r;)f[n-1]=e(o,n/r);return l}function l(n){return isNaN(n=+n)?r:u[t(f,n)]}return l.invertExtent=function(n){var r=u.indexOf(n);return r<0?[NaN,NaN]:[r>0?f[r-1]:o[0],r<f.length?f[r]:o[o.length-1]]},l.domain=function(r){if(!arguments.length)return o.slice();o=[];for(let n of r)null==n||isNaN(n=+n)||o.push(n);return o.sort(n),i()},l.range=function(n){return arguments.length?(u=Array.from(n),i()):u.slice()},l.unknown=function(n){return arguments.length?(r=n,l):r},l.quantiles=function(){return f.slice()},l.copy=function(){return w().domain(o).range(u).unknown(r)},v.apply(l,arguments)}function y(){var n,r=[.5],o=[0,1],u=1;function f(f){return f<=f?o[t(r,f,0,u)]:n}return f.domain=function(n){return arguments.length?(r=Array.from(n),u=Math.min(r.length,o.length-1),f):r.slice()},f.range=function(n){return arguments.length?(o=Array.from(n),u=Math.min(r.length,o.length-1),f):o.slice()},f.invertExtent=function(n){var t=o.indexOf(n);return[r[t-1],r[t]]},f.unknown=function(r){return arguments.length?(n=r,f):n},f.copy=function(){return y().domain(r).range(o).unknown(n)},v.apply(f,arguments)}a.prototype=l.prototype={constructor:a,on:function(n,r){var t,o=this._,u=c(n+"",o),f=-1,e=u.length;if(!(arguments.length<2)){if(null!=r&&"function"!=typeof r)throw new Error("invalid callback: "+r);for(;++f<e;)if(t=(n=u[f]).type)o[t]=h(o[t],n.name,r);else if(null==r)for(t in o)o[t]=h(o[t],n.name,null);return this}for(;++f<e;)if((t=(n=u[f]).type)&&(t=s(o[t],n.name)))return t},copy:function(){var n={},r=this._;for(var t in r)n[t]=r[t].slice();return new a(n)},call:function(n,r){if((t=arguments.length-2)>0)for(var t,o,u=new Array(t),f=0;f<t;++f)u[f]=arguments[f+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(f=0,t=(o=this._[n]).length;f<t;++f)o[f].value.apply(r,u)},apply:function(n,r,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var o=this._[n],u=0,f=o.length;u<f;++u)o[u].value.apply(r,t)}},l("start","end","cancel","interrupt");export{o as a,u as m,w as q,y as t}