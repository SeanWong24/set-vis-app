function n(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}var t,r,i=(1===(t=n).length&&(r=t,t=function(t,i){return n(r(t),i)}),{left:function(n,r,i,e){for(null==i&&(i=0),null==e&&(e=n.length);i<e;){var u=i+e>>>1;t(n[u],r)<0?i=u+1:e=u}return i},right:function(n,r,i,e){for(null==i&&(i=0),null==e&&(e=n.length);i<e;){var u=i+e>>>1;t(n[u],r)>0?e=u:i=u+1}return i}}).right;function e(n){return null===n?NaN:+n}var u={value:function(){}};function o(){for(var n,t=0,r=arguments.length,i={};t<r;++t){if(!(n=arguments[t]+"")||n in i||/[\s.]/.test(n))throw new Error("illegal type: "+n);i[n]=[]}return new f(i)}function f(n){this._=n}function s(n,t){return n.trim().split(/^|\s+/).map((function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}}))}function a(n,t){for(var r,i=0,e=n.length;i<e;++i)if((r=n[i]).name===t)return r.value}function c(n,t,r){for(var i=0,e=n.length;i<e;++i)if(n[i].name===t){n[i]=u,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=r&&n.push({name:t,value:r}),n}f.prototype=o.prototype={constructor:f,on:function(n,t){var r,i=this._,e=s(n+"",i),u=-1,o=e.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++u<o;)if(r=(n=e[u]).type)i[r]=c(i[r],n.name,t);else if(null==t)for(r in i)i[r]=c(i[r],n.name,null);return this}for(;++u<o;)if((r=(n=e[u]).type)&&(r=a(i[r],n.name)))return r},copy:function(){var n={},t=this._;for(var r in t)n[r]=t[r].slice();return new f(n)},call:function(n,t){if((r=arguments.length-2)>0)for(var r,i,e=new Array(r),u=0;u<r;++u)e[u]=arguments[u+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(u=0,r=(i=this._[n]).length;u<r;++u)i[u].value.apply(t,e)},apply:function(n,t,r){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],e=0,u=i.length;e<u;++e)i[e].value.apply(t,r)}};var h="http://www.w3.org/1999/xhtml";const l={svg:"http://www.w3.org/2000/svg",xhtml:h,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function v(n){var t=n+="",r=t.indexOf(":");return r>=0&&"xmlns"!==(t=n.slice(0,r))&&(n=n.slice(r+1)),l.hasOwnProperty(t)?{space:l[t],local:n}:n}function w(n){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===h&&t.documentElement.namespaceURI===h?t.createElement(n):t.createElementNS(r,n)}}function d(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function y(n){var t=v(n);return(t.local?d:w)(t)}function p(){}function g(n){return null==n?p:function(){return this.querySelector(n)}}function m(){return[]}function b(n){return null==n?m:function(){return this.querySelectorAll(n)}}function k(n){return function(){return this.matches(n)}}function x(n){return new Array(n.length)}function N(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}function M(n,t,r,i,e,u){for(var o,f=0,s=t.length,a=u.length;f<a;++f)(o=t[f])?(o.__data__=u[f],i[f]=o):r[f]=new N(n,u[f]);for(;f<s;++f)(o=t[f])&&(e[f]=o)}function A(n,t,r,i,e,u,o){var f,s,a,c={},h=t.length,l=u.length,v=new Array(h);for(f=0;f<h;++f)(s=t[f])&&(v[f]=a="$"+o.call(s,s.__data__,f,t),a in c?e[f]=s:c[a]=s);for(f=0;f<l;++f)(s=c[a="$"+o.call(n,u[f],f,u)])?(i[f]=s,s.__data__=u[f],c[a]=null):r[f]=new N(n,u[f]);for(f=0;f<h;++f)(s=t[f])&&c[v[f]]===s&&(e[f]=s)}function E(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function $(n){return function(){this.removeAttribute(n)}}function _(n){return function(){this.removeAttributeNS(n.space,n.local)}}function q(n,t){return function(){this.setAttribute(n,t)}}function R(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function X(n,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttribute(n):this.setAttribute(n,r)}}function T(n,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}}function j(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function S(n){return function(){this.style.removeProperty(n)}}function z(n,t,r){return function(){this.style.setProperty(n,t,r)}}function H(n,t,r){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,r)}}function I(n,t){return n.style.getPropertyValue(t)||j(n).getComputedStyle(n,null).getPropertyValue(t)}function Y(n){return function(){delete this[n]}}function D(n,t){return function(){this[n]=t}}function O(n,t){return function(){var r=t.apply(this,arguments);null==r?delete this[n]:this[n]=r}}function B(n){return n.trim().split(/^|\s+/)}function C(n){return n.classList||new L(n)}function L(n){this._node=n,this._names=B(n.getAttribute("class")||"")}function P(n,t){for(var r=C(n),i=-1,e=t.length;++i<e;)r.add(t[i])}function V(n,t){for(var r=C(n),i=-1,e=t.length;++i<e;)r.remove(t[i])}function F(n){return function(){P(this,n)}}function G(n){return function(){V(this,n)}}function J(n,t){return function(){(t.apply(this,arguments)?P:V)(this,n)}}function K(){this.textContent=""}function Q(n){return function(){this.textContent=n}}function U(n){return function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}}function W(){this.innerHTML=""}function Z(n){return function(){this.innerHTML=n}}function nn(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}function tn(){this.nextSibling&&this.parentNode.appendChild(this)}function rn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function en(){return null}function un(){var n=this.parentNode;n&&n.removeChild(this)}function on(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function fn(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}N.prototype={constructor:N,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}},L.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var sn={};function an(n,t,r){return n=cn(n,t,r),function(t){var r=t.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||n.call(this,t)}}function cn(n,t,r){return function(){try{n.call(this,this.__data__,t,r)}finally{}}}function hn(n){return n.trim().split(/^|\s+/).map((function(n){var t="",r=n.indexOf(".");return r>=0&&(t=n.slice(r+1),n=n.slice(0,r)),{type:n,name:t}}))}function ln(n){return function(){var t=this.__on;if(t){for(var r,i=0,e=-1,u=t.length;i<u;++i)r=t[i],n.type&&r.type!==n.type||r.name!==n.name?t[++e]=r:this.removeEventListener(r.type,r.listener,r.capture);++e?t.length=e:delete this.__on}}}function vn(n,t,r){var i=sn.hasOwnProperty(n.type)?an:cn;return function(e,u,o){var f,s=this.__on,a=i(t,u,o);if(s)for(var c=0,h=s.length;c<h;++c)if((f=s[c]).type===n.type&&f.name===n.name)return this.removeEventListener(f.type,f.listener,f.capture),this.addEventListener(f.type,f.listener=a,f.capture=r),void(f.value=t);this.addEventListener(n.type,a,r),f={type:n.type,name:n.name,value:t,listener:a,capture:r},s?s.push(f):this.__on=[f]}}function wn(n,t,r){var i=j(n),e=i.CustomEvent;"function"==typeof e?e=new e(t,r):(e=i.document.createEvent("Event"),r?(e.initEvent(t,r.bubbles,r.cancelable),e.detail=r.detail):e.initEvent(t,!1,!1)),n.dispatchEvent(e)}function dn(n,t){return function(){return wn(this,n,t)}}function yn(n,t){return function(){return wn(this,n,t.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(sn={mouseenter:"mouseover",mouseleave:"mouseout"}));var pn=[null];function gn(n,t){this._groups=n,this._parents=t}function mn(){return new gn([[document.documentElement]],pn)}function bn(n,t,r){n.prototype=t.prototype=r,r.constructor=n}function kn(n,t){var r=Object.create(n.prototype);for(var i in t)r[i]=t[i];return r}function xn(){}gn.prototype=mn.prototype={constructor:gn,select:function(n){"function"!=typeof n&&(n=g(n));for(var t=this._groups,r=t.length,i=new Array(r),e=0;e<r;++e)for(var u,o,f=t[e],s=f.length,a=i[e]=new Array(s),c=0;c<s;++c)(u=f[c])&&(o=n.call(u,u.__data__,c,f))&&("__data__"in u&&(o.__data__=u.__data__),a[c]=o);return new gn(i,this._parents)},selectAll:function(n){"function"!=typeof n&&(n=b(n));for(var t=this._groups,r=t.length,i=[],e=[],u=0;u<r;++u)for(var o,f=t[u],s=f.length,a=0;a<s;++a)(o=f[a])&&(i.push(n.call(o,o.__data__,a,f)),e.push(o));return new gn(i,e)},filter:function(n){"function"!=typeof n&&(n=k(n));for(var t=this._groups,r=t.length,i=new Array(r),e=0;e<r;++e)for(var u,o=t[e],f=o.length,s=i[e]=[],a=0;a<f;++a)(u=o[a])&&n.call(u,u.__data__,a,o)&&s.push(u);return new gn(i,this._parents)},data:function(n,t){if(!n)return w=new Array(this.size()),c=-1,this.each((function(n){w[++c]=n})),w;var r,i=t?A:M,e=this._parents,u=this._groups;"function"!=typeof n&&(r=n,n=function(){return r});for(var o=u.length,f=new Array(o),s=new Array(o),a=new Array(o),c=0;c<o;++c){var h=e[c],l=u[c],v=l.length,w=n.call(h,h&&h.__data__,c,e),d=w.length,y=s[c]=new Array(d),p=f[c]=new Array(d);i(h,l,y,p,a[c]=new Array(v),w,t);for(var g,m,b=0,k=0;b<d;++b)if(g=y[b]){for(b>=k&&(k=b+1);!(m=p[k])&&++k<d;);g._next=m||null}}return(f=new gn(f,e))._enter=s,f._exit=a,f},enter:function(){return new gn(this._enter||this._groups.map(x),this._parents)},exit:function(){return new gn(this._exit||this._groups.map(x),this._parents)},join:function(n,t,r){var i=this.enter(),e=this,u=this.exit();return i="function"==typeof n?n(i):i.append(n+""),null!=t&&(e=t(e)),null==r?u.remove():r(u),i&&e?i.merge(e).order():e},merge:function(n){for(var t=this._groups,r=n._groups,i=t.length,e=Math.min(i,r.length),u=new Array(i),o=0;o<e;++o)for(var f,s=t[o],a=r[o],c=s.length,h=u[o]=new Array(c),l=0;l<c;++l)(f=s[l]||a[l])&&(h[l]=f);for(;o<i;++o)u[o]=t[o];return new gn(u,this._parents)},order:function(){for(var n=this._groups,t=-1,r=n.length;++t<r;)for(var i,e=n[t],u=e.length-1,o=e[u];--u>=0;)(i=e[u])&&(o&&4^i.compareDocumentPosition(o)&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(n){function t(t,r){return t&&r?n(t.__data__,r.__data__):!t-!r}n||(n=E);for(var r=this._groups,i=r.length,e=new Array(i),u=0;u<i;++u){for(var o,f=r[u],s=f.length,a=e[u]=new Array(s),c=0;c<s;++c)(o=f[c])&&(a[c]=o);a.sort(t)}return new gn(e,this._parents).order()},call:function(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function(){var n=new Array(this.size()),t=-1;return this.each((function(){n[++t]=this})),n},node:function(){for(var n=this._groups,t=0,r=n.length;t<r;++t)for(var i=n[t],e=0,u=i.length;e<u;++e){var o=i[e];if(o)return o}return null},size:function(){var n=0;return this.each((function(){++n})),n},empty:function(){return!this.node()},each:function(n){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var e,u=t[r],o=0,f=u.length;o<f;++o)(e=u[o])&&n.call(e,e.__data__,o,u);return this},attr:function(n,t){var r=v(n);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==t?r.local?_:$:"function"==typeof t?r.local?T:X:r.local?R:q)(r,t))},style:function(n,t,r){return arguments.length>1?this.each((null==t?S:"function"==typeof t?H:z)(n,t,null==r?"":r)):I(this.node(),n)},property:function(n,t){return arguments.length>1?this.each((null==t?Y:"function"==typeof t?O:D)(n,t)):this.node()[n]},classed:function(n,t){var r=B(n+"");if(arguments.length<2){for(var i=C(this.node()),e=-1,u=r.length;++e<u;)if(!i.contains(r[e]))return!1;return!0}return this.each(("function"==typeof t?J:t?F:G)(r,t))},text:function(n){return arguments.length?this.each(null==n?K:("function"==typeof n?U:Q)(n)):this.node().textContent},html:function(n){return arguments.length?this.each(null==n?W:("function"==typeof n?nn:Z)(n)):this.node().innerHTML},raise:function(){return this.each(tn)},lower:function(){return this.each(rn)},append:function(n){var t="function"==typeof n?n:y(n);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(n,t){var r="function"==typeof n?n:y(n),i=null==t?en:"function"==typeof t?t:g(t);return this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(un)},clone:function(n){return this.select(n?fn:on)},datum:function(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function(n,t,r){var i,e,u=hn(n+""),o=u.length;if(!(arguments.length<2)){for(f=t?vn:ln,null==r&&(r=!1),i=0;i<o;++i)this.each(f(u[i],t,r));return this}var f=this.node().__on;if(f)for(var s,a=0,c=f.length;a<c;++a)for(i=0,s=f[a];i<o;++i)if((e=u[i]).type===s.type&&e.name===s.name)return s.value},dispatch:function(n,t){return this.each(("function"==typeof t?yn:dn)(n,t))}};var Nn=1/.7,Mn="\\s*([+-]?\\d+)\\s*",An="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",En="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$n=/^#([0-9a-f]{3,8})$/,_n=new RegExp("^rgb\\("+[Mn,Mn,Mn]+"\\)$"),qn=new RegExp("^rgb\\("+[En,En,En]+"\\)$"),Rn=new RegExp("^rgba\\("+[Mn,Mn,Mn,An]+"\\)$"),Xn=new RegExp("^rgba\\("+[En,En,En,An]+"\\)$"),Tn=new RegExp("^hsl\\("+[An,En,En]+"\\)$"),jn=new RegExp("^hsla\\("+[An,En,En,An]+"\\)$"),Sn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function zn(){return this.rgb().formatHex()}function Hn(){return this.rgb().formatRgb()}function In(n){var t,r;return n=(n+"").trim().toLowerCase(),(t=$n.exec(n))?(r=t[1].length,t=parseInt(t[1],16),6===r?Yn(t):3===r?new Cn(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?Dn(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?Dn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=_n.exec(n))?new Cn(t[1],t[2],t[3],1):(t=qn.exec(n))?new Cn(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Rn.exec(n))?Dn(t[1],t[2],t[3],t[4]):(t=Xn.exec(n))?Dn(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Tn.exec(n))?Fn(t[1],t[2]/100,t[3]/100,1):(t=jn.exec(n))?Fn(t[1],t[2]/100,t[3]/100,t[4]):Sn.hasOwnProperty(n)?Yn(Sn[n]):"transparent"===n?new Cn(NaN,NaN,NaN,0):null}function Yn(n){return new Cn(n>>16&255,n>>8&255,255&n,1)}function Dn(n,t,r,i){return i<=0&&(n=t=r=NaN),new Cn(n,t,r,i)}function On(n){return n instanceof xn||(n=In(n)),n?new Cn((n=n.rgb()).r,n.g,n.b,n.opacity):new Cn}function Bn(n,t,r,i){return 1===arguments.length?On(n):new Cn(n,t,r,null==i?1:i)}function Cn(n,t,r,i){this.r=+n,this.g=+t,this.b=+r,this.opacity=+i}function Ln(){return"#"+Vn(this.r)+Vn(this.g)+Vn(this.b)}function Pn(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}function Vn(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function Fn(n,t,r,i){return i<=0?n=t=r=NaN:r<=0||r>=1?n=t=NaN:t<=0&&(n=NaN),new Jn(n,t,r,i)}function Gn(n){if(n instanceof Jn)return new Jn(n.h,n.s,n.l,n.opacity);if(n instanceof xn||(n=In(n)),!n)return new Jn;if(n instanceof Jn)return n;var t=(n=n.rgb()).r/255,r=n.g/255,i=n.b/255,e=Math.min(t,r,i),u=Math.max(t,r,i),o=NaN,f=u-e,s=(u+e)/2;return f?(o=t===u?(r-i)/f+6*(r<i):r===u?(i-t)/f+2:(t-r)/f+4,f/=s<.5?u+e:2-u-e,o*=60):f=s>0&&s<1?0:o,new Jn(o,f,s,n.opacity)}function Jn(n,t,r,i){this.h=+n,this.s=+t,this.l=+r,this.opacity=+i}function Kn(n,t,r){return 255*(n<60?t+(r-t)*n/60:n<180?r:n<240?t+(r-t)*(240-n)/60:t)}function Qn(n){return function(){return n}}function Un(n,t){var r=t-n;return r?function(n,t){return function(r){return n+r*t}}(n,r):Qn(isNaN(n)?t:n)}bn(xn,In,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:zn,formatHex:zn,formatHsl:function(){return Gn(this).formatHsl()},formatRgb:Hn,toString:Hn}),bn(Cn,Bn,kn(xn,{brighter:function(n){return n=null==n?Nn:Math.pow(Nn,n),new Cn(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new Cn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ln,formatHex:Ln,formatRgb:Pn,toString:Pn})),bn(Jn,(function(n,t,r,i){return 1===arguments.length?Gn(n):new Jn(n,t,r,null==i?1:i)}),kn(xn,{brighter:function(n){return n=null==n?Nn:Math.pow(Nn,n),new Jn(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new Jn(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,e=2*r-i;return new Cn(Kn(n>=240?n-240:n+120,e,i),Kn(n,e,i),Kn(n<120?n+240:n-120,e,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===n?")":", "+n+")")}}));const Wn=function n(t){var r=function(n){return 1==(n=+n)?Un:function(t,r){return r-t?function(n,t,r){return n=Math.pow(n,r),t=Math.pow(t,r)-n,r=1/r,function(i){return Math.pow(n+i*t,r)}}(t,r,n):Qn(isNaN(t)?r:t)}}(t);function i(n,t){var i=r((n=Bn(n)).r,(t=Bn(t)).r),e=r(n.g,t.g),u=r(n.b,t.b),o=Un(n.opacity,t.opacity);return function(t){return n.r=i(t),n.g=e(t),n.b=u(t),n.opacity=o(t),n+""}}return i.gamma=n,i}(1);function Zn(n,t){return n=+n,t=+t,function(r){return n*(1-r)+t*r}}var nt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tt=new RegExp(nt.source,"g");function rt(n,t){var r,i,e,u=nt.lastIndex=tt.lastIndex=0,o=-1,f=[],s=[];for(n+="",t+="";(r=nt.exec(n))&&(i=tt.exec(t));)(e=i.index)>u&&(e=t.slice(u,e),f[o]?f[o]+=e:f[++o]=e),(r=r[0])===(i=i[0])?f[o]?f[o]+=i:f[++o]=i:(f[++o]=null,s.push({i:o,x:Zn(r,i)})),u=tt.lastIndex;return u<t.length&&(e=t.slice(u),f[o]?f[o]+=e:f[++o]=e),f.length<2?s[0]?function(n){return function(t){return n(t)+""}}(s[0].x):function(n){return function(){return n}}(t):(t=s.length,function(n){for(var r,i=0;i<t;++i)f[(r=s[i]).i]=r.x(n);return f.join("")})}var it,et,ut,ot,ft=180/Math.PI,st={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function at(n,t,r,i,e,u){var o,f,s;return(o=Math.sqrt(n*n+t*t))&&(n/=o,t/=o),(s=n*r+t*i)&&(r-=n*s,i-=t*s),(f=Math.sqrt(r*r+i*i))&&(r/=f,i/=f,s/=f),n*i<t*r&&(n=-n,t=-t,s=-s,o=-o),{translateX:e,translateY:u,rotate:Math.atan2(t,n)*ft,skewX:Math.atan(s)*ft,scaleX:o,scaleY:f}}function ct(n,t,r,i){function e(n){return n.length?n.pop()+" ":""}return function(u,o){var f=[],s=[];return u=n(u),o=n(o),function(n,i,e,u,o,f){if(n!==e||i!==u){var s=o.push("translate(",null,t,null,r);f.push({i:s-4,x:Zn(n,e)},{i:s-2,x:Zn(i,u)})}else(e||u)&&o.push("translate("+e+t+u+r)}(u.translateX,u.translateY,o.translateX,o.translateY,f,s),function(n,t,r,u){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),u.push({i:r.push(e(r)+"rotate(",null,i)-2,x:Zn(n,t)})):t&&r.push(e(r)+"rotate("+t+i)}(u.rotate,o.rotate,f,s),function(n,t,r,u){n!==t?u.push({i:r.push(e(r)+"skewX(",null,i)-2,x:Zn(n,t)}):t&&r.push(e(r)+"skewX("+t+i)}(u.skewX,o.skewX,f,s),function(n,t,r,i,u,o){if(n!==r||t!==i){var f=u.push(e(u)+"scale(",null,",",null,")");o.push({i:f-4,x:Zn(n,r)},{i:f-2,x:Zn(t,i)})}else 1===r&&1===i||u.push(e(u)+"scale("+r+","+i+")")}(u.scaleX,u.scaleY,o.scaleX,o.scaleY,f,s),u=o=null,function(n){for(var t,r=-1,i=s.length;++r<i;)f[(t=s[r]).i]=t.x(n);return f.join("")}}}var ht,lt,vt=ct((function(n){return"none"===n?st:(it||(it=document.createElement("DIV"),et=document.documentElement,ut=document.defaultView),it.style.transform=n,n=ut.getComputedStyle(et.appendChild(it),null).getPropertyValue("transform"),et.removeChild(it),at(+(n=n.slice(7,-1).split(","))[0],+n[1],+n[2],+n[3],+n[4],+n[5]))}),"px, ","px)","deg)"),wt=ct((function(n){return null==n?st:(ot||(ot=document.createElementNS("http://www.w3.org/2000/svg","g")),ot.setAttribute("transform",n),(n=ot.transform.baseVal.consolidate())?at((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):st)}),", ",")",")"),dt=0,yt=0,pt=0,gt=0,mt=0,bt=0,kt="object"==typeof performance&&performance.now?performance:Date,xt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Nt(){return mt||(xt(Mt),mt=kt.now()+bt)}function Mt(){mt=0}function At(){this._call=this._time=this._next=null}function Et(n,t,r){var i=new At;return i.restart(n,t,r),i}function $t(){mt=(gt=kt.now())+bt,dt=yt=0;try{!function(){Nt(),++dt;for(var n,t=ht;t;)(n=mt-t._time)>=0&&t._call.call(null,n),t=t._next;--dt}()}finally{dt=0,function(){for(var n,t,r=ht,i=1/0;r;)r._call?(i>r._time&&(i=r._time),n=r,r=r._next):(t=r._next,r._next=null,r=n?n._next=t:ht=t);lt=n,qt(i)}(),mt=0}}function _t(){var n=kt.now(),t=n-gt;t>1e3&&(bt-=t,gt=n)}function qt(n){dt||(yt&&(yt=clearTimeout(yt)),n-mt>24?(n<1/0&&(yt=setTimeout($t,n-kt.now()-bt)),pt&&(pt=clearInterval(pt))):(pt||(gt=kt.now(),pt=setInterval(_t,1e3)),dt=1,xt($t)))}function Rt(n,t,r){var i=new At;return i.restart((function(r){i.stop(),n(r+t)}),t=null==t?0:+t,r),i}At.prototype=Et.prototype={constructor:At,restart:function(n,t,r){if("function"!=typeof n)throw new TypeError("callback is not a function");r=(null==r?Nt():+r)+(null==t?0:+t),this._next||lt===this||(lt?lt._next=this:ht=this,lt=this),this._call=n,this._time=r,qt()},stop:function(){this._call&&(this._call=null,this._time=1/0,qt())}};var Xt=o("start","end","cancel","interrupt"),Tt=[];function jt(n,t,r,i,e,u){var o=n.__transition;if(o){if(r in o)return}else n.__transition={};!function(n,t,r){var i,e=n.__transition;function u(s){var a,c,h,l;if(1!==r.state)return f();for(a in e)if((l=e[a]).name===r.name){if(3===l.state)return Rt(u);4===l.state?(l.state=6,l.timer.stop(),l.on.call("interrupt",n,n.__data__,l.index,l.group),delete e[a]):+a<t&&(l.state=6,l.timer.stop(),l.on.call("cancel",n,n.__data__,l.index,l.group),delete e[a])}if(Rt((function(){3===r.state&&(r.state=4,r.timer.restart(o,r.delay,r.time),o(s))})),r.state=2,r.on.call("start",n,n.__data__,r.index,r.group),2===r.state){for(r.state=3,i=new Array(h=r.tween.length),a=0,c=-1;a<h;++a)(l=r.tween[a].value.call(n,n.__data__,r.index,r.group))&&(i[++c]=l);i.length=c+1}}function o(t){for(var e=t<r.duration?r.ease.call(null,t/r.duration):(r.timer.restart(f),r.state=5,1),u=-1,o=i.length;++u<o;)i[u].call(n,e);5===r.state&&(r.on.call("end",n,n.__data__,r.index,r.group),f())}function f(){for(var i in r.state=6,r.timer.stop(),delete e[t],e)return;delete n.__transition}e[t]=r,r.timer=Et((function(n){r.state=1,r.timer.restart(u,r.delay,r.time),r.delay<=n&&u(n-r.delay)}),0,r.time)}(n,r,{name:t,index:i,group:e,on:Xt,tween:Tt,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:0})}function St(n,t){var r=Ht(n,t);if(r.state>0)throw new Error("too late; already scheduled");return r}function zt(n,t){var r=Ht(n,t);if(r.state>3)throw new Error("too late; already running");return r}function Ht(n,t){var r=n.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function It(n,t){var r,i;return function(){var e=zt(this,n),u=e.tween;if(u!==r)for(var o=0,f=(i=r=u).length;o<f;++o)if(i[o].name===t){(i=i.slice()).splice(o,1);break}e.tween=i}}function Yt(n,t,r){var i,e;if("function"!=typeof r)throw new Error;return function(){var u=zt(this,n),o=u.tween;if(o!==i){e=(i=o).slice();for(var f={name:t,value:r},s=0,a=e.length;s<a;++s)if(e[s].name===t){e[s]=f;break}s===a&&e.push(f)}u.tween=e}}function Dt(n,t,r){var i=n._id;return n.each((function(){var n=zt(this,i);(n.value||(n.value={}))[t]=r.apply(this,arguments)})),function(n){return Ht(n,i).value[t]}}function Ot(n,t){var r;return("number"==typeof t?Zn:t instanceof In?Wn:(r=In(t))?(t=r,Wn):rt)(n,t)}function Bt(n){return function(){this.removeAttribute(n)}}function Ct(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Lt(n,t,r){var i,e,u=r+"";return function(){var o=this.getAttribute(n);return o===u?null:o===i?e:e=t(i=o,r)}}function Pt(n,t,r){var i,e,u=r+"";return function(){var o=this.getAttributeNS(n.space,n.local);return o===u?null:o===i?e:e=t(i=o,r)}}function Vt(n,t,r){var i,e,u;return function(){var o,f,s=r(this);if(null!=s)return(o=this.getAttribute(n))===(f=s+"")?null:o===i&&f===e?u:(e=f,u=t(i=o,s));this.removeAttribute(n)}}function Ft(n,t,r){var i,e,u;return function(){var o,f,s=r(this);if(null!=s)return(o=this.getAttributeNS(n.space,n.local))===(f=s+"")?null:o===i&&f===e?u:(e=f,u=t(i=o,s));this.removeAttributeNS(n.space,n.local)}}function Gt(n,t){return function(r){this.setAttribute(n,t.call(this,r))}}function Jt(n,t){return function(r){this.setAttributeNS(n.space,n.local,t.call(this,r))}}function Kt(n,t){var r,i;function e(){var e=t.apply(this,arguments);return e!==i&&(r=(i=e)&&Jt(n,e)),r}return e._value=t,e}function Qt(n,t){var r,i;function e(){var e=t.apply(this,arguments);return e!==i&&(r=(i=e)&&Gt(n,e)),r}return e._value=t,e}function Ut(n,t){return function(){St(this,n).delay=+t.apply(this,arguments)}}function Wt(n,t){return t=+t,function(){St(this,n).delay=t}}function Zt(n,t){return function(){zt(this,n).duration=+t.apply(this,arguments)}}function nr(n,t){return t=+t,function(){zt(this,n).duration=t}}function tr(n,t){if("function"!=typeof t)throw new Error;return function(){zt(this,n).ease=t}}function rr(n,t,r){var i,e,u=function(n){return(n+"").trim().split(/^|\s+/).every((function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||"start"===n}))}(t)?St:zt;return function(){var o=u(this,n),f=o.on;f!==i&&(e=(i=f).copy()).on(t,r),o.on=e}}var ir=mn.prototype.constructor;function er(n){return function(){this.style.removeProperty(n)}}function ur(n,t,r){return function(i){this.style.setProperty(n,t.call(this,i),r)}}function or(n,t,r){var i,e;function u(){var u=t.apply(this,arguments);return u!==e&&(i=(e=u)&&ur(n,u,r)),i}return u._value=t,u}function fr(n){return function(t){this.textContent=n.call(this,t)}}function sr(n){var t,r;function i(){var i=n.apply(this,arguments);return i!==r&&(t=(r=i)&&fr(i)),t}return i._value=n,i}var ar=0;function cr(n,t,r,i){this._groups=n,this._parents=t,this._name=r,this._id=i}function hr(){return++ar}var lr=mn.prototype;cr.prototype=function(n){return mn().transition(n)}.prototype={constructor:cr,select:function(n){var t=this._name,r=this._id;"function"!=typeof n&&(n=g(n));for(var i=this._groups,e=i.length,u=new Array(e),o=0;o<e;++o)for(var f,s,a=i[o],c=a.length,h=u[o]=new Array(c),l=0;l<c;++l)(f=a[l])&&(s=n.call(f,f.__data__,l,a))&&("__data__"in f&&(s.__data__=f.__data__),h[l]=s,jt(h[l],t,r,l,h,Ht(f,r)));return new cr(u,this._parents,t,r)},selectAll:function(n){var t=this._name,r=this._id;"function"!=typeof n&&(n=b(n));for(var i=this._groups,e=i.length,u=[],o=[],f=0;f<e;++f)for(var s,a=i[f],c=a.length,h=0;h<c;++h)if(s=a[h]){for(var l,v=n.call(s,s.__data__,h,a),w=Ht(s,r),d=0,y=v.length;d<y;++d)(l=v[d])&&jt(l,t,r,d,v,w);u.push(v),o.push(s)}return new cr(u,o,t,r)},filter:function(n){"function"!=typeof n&&(n=k(n));for(var t=this._groups,r=t.length,i=new Array(r),e=0;e<r;++e)for(var u,o=t[e],f=o.length,s=i[e]=[],a=0;a<f;++a)(u=o[a])&&n.call(u,u.__data__,a,o)&&s.push(u);return new cr(i,this._parents,this._name,this._id)},merge:function(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,r=n._groups,i=t.length,e=Math.min(i,r.length),u=new Array(i),o=0;o<e;++o)for(var f,s=t[o],a=r[o],c=s.length,h=u[o]=new Array(c),l=0;l<c;++l)(f=s[l]||a[l])&&(h[l]=f);for(;o<i;++o)u[o]=t[o];return new cr(u,this._parents,this._name,this._id)},selection:function(){return new ir(this._groups,this._parents)},transition:function(){for(var n=this._name,t=this._id,r=hr(),i=this._groups,e=i.length,u=0;u<e;++u)for(var o,f=i[u],s=f.length,a=0;a<s;++a)if(o=f[a]){var c=Ht(o,t);jt(o,n,r,a,f,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new cr(i,this._parents,n,r)},call:lr.call,nodes:lr.nodes,node:lr.node,size:lr.size,empty:lr.empty,each:lr.each,on:function(n,t){var r=this._id;return arguments.length<2?Ht(this.node(),r).on.on(n):this.each(rr(r,n,t))},attr:function(n,t){var r=v(n),i="transform"===r?wt:Ot;return this.attrTween(n,"function"==typeof t?(r.local?Ft:Vt)(r,i,Dt(this,"attr."+n,t)):null==t?(r.local?Ct:Bt)(r):(r.local?Pt:Lt)(r,i,t))},attrTween:function(n,t){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;var i=v(n);return this.tween(r,(i.local?Kt:Qt)(i,t))},style:function(n,t,r){var i="transform"==(n+="")?vt:Ot;return null==t?this.styleTween(n,function(n,t){var r,i,e;return function(){var u=I(this,n),o=(this.style.removeProperty(n),I(this,n));return u===o?null:u===r&&o===i?e:e=t(r=u,i=o)}}(n,i)).on("end.style."+n,er(n)):"function"==typeof t?this.styleTween(n,function(n,t,r){var i,e,u;return function(){var o=I(this,n),f=r(this),s=f+"";return null==f&&(this.style.removeProperty(n),s=f=I(this,n)),o===s?null:o===i&&s===e?u:(e=s,u=t(i=o,f))}}(n,i,Dt(this,"style."+n,t))).each(function(n,t){var r,i,e,u,o="style."+t,f="end."+o;return function(){var s=zt(this,n),a=s.on,c=null==s.value[o]?u||(u=er(t)):void 0;a===r&&e===c||(i=(r=a).copy()).on(f,e=c),s.on=i}}(this._id,n)):this.styleTween(n,function(n,t,r){var i,e,u=r+"";return function(){var o=I(this,n);return o===u?null:o===i?e:e=t(i=o,r)}}(n,i,t),r).on("end.style."+n,null)},styleTween:function(n,t,r){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,or(n,t,null==r?"":r))},text:function(n){return this.tween("text","function"==typeof n?function(n){return function(){var t=n(this);this.textContent=null==t?"":t}}(Dt(this,"text",n)):function(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;return this.tween(t,sr(n))},remove:function(){return this.on("end.remove",function(n){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function(n,t){var r=this._id;if(n+="",arguments.length<2){for(var i,e=Ht(this.node(),r).tween,u=0,o=e.length;u<o;++u)if((i=e[u]).name===n)return i.value;return null}return this.each((null==t?It:Yt)(r,n,t))},delay:function(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?Ut:Wt)(t,n)):Ht(this.node(),t).delay},duration:function(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?Zt:nr)(t,n)):Ht(this.node(),t).duration},ease:function(n){var t=this._id;return arguments.length?this.each(tr(t,n)):Ht(this.node(),t).ease},end:function(){var n,t,r=this,i=r._id,e=r.size();return new Promise((function(u,o){var f={value:o},s={value:function(){0==--e&&u()}};r.each((function(){var r=zt(this,i),e=r.on;e!==n&&((t=(n=e).copy())._.cancel.push(f),t._.interrupt.push(f),t._.end.push(s)),r.on=t}))}))}};var vr={time:null,delay:0,duration:250,ease:function(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function wr(n,t){for(var r;!(r=n.__transition)||!(r=r[t]);)if(!(n=n.parentNode))return vr.time=Nt(),vr;return r}function dr(){}function yr(n,t){var r=new dr;if(n instanceof dr)n.each((function(n,t){r.set(t,n)}));else if(Array.isArray(n)){var i,e=-1,u=n.length;if(null==t)for(;++e<u;)r.set(e,n[e]);else for(;++e<u;)r.set(t(i=n[e],e,n),i)}else if(n)for(var o in n)r.set(o,n[o]);return r}mn.prototype.interrupt=function(n){return this.each((function(){!function(n,t){var r,i,e,u=n.__transition,o=!0;if(u){for(e in t=null==t?null:t+"",u)(r=u[e]).name===t?(i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(i?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete u[e]):o=!1;o&&delete n.__transition}}(this,n)}))},mn.prototype.transition=function(n){var t,r;n instanceof cr?(t=n._id,n=n._name):(t=hr(),(r=vr).time=Nt(),n=null==n?null:n+"");for(var i=this._groups,e=i.length,u=0;u<e;++u)for(var o,f=i[u],s=f.length,a=0;a<s;++a)(o=f[a])&&jt(o,n,t,a,f,r||wr(o,t));return new cr(i,this._parents,n,t)},dr.prototype=yr.prototype={constructor:dr,has:function(n){return"$"+n in this},get:function(n){return this["$"+n]},set:function(n,t){return this["$"+n]=t,this},remove:function(n){var t="$"+n;return t in this&&delete this[t]},clear:function(){for(var n in this)"$"===n[0]&&delete this[n]},keys:function(){var n=[];for(var t in this)"$"===t[0]&&n.push(t.slice(1));return n},values:function(){var n=[];for(var t in this)"$"===t[0]&&n.push(this[t]);return n},entries:function(){var n=[];for(var t in this)"$"===t[0]&&n.push({key:t.slice(1),value:this[t]});return n},size:function(){var n=0;for(var t in this)"$"===t[0]&&++n;return n},empty:function(){for(var n in this)if("$"===n[0])return!1;return!0},each:function(n){for(var t in this)"$"===t[0]&&n(this[t],t.slice(1),this)}};export{gn as S,In as a,Wn as b,Qn as c,rt as d,i as e,n as f,Zn as i,yr as m,e as n,pn as r}