import{r as t,h as i,H as n}from"./p-ddbb1df8.js";import{c as r,i as e,b as h,d as a,e as s,f as o,a as u,t as f}from"./p-f51ef587.js";import{m as c,s as l,i as d}from"./p-969cc02b.js";var v=Math.sqrt(50),M=Math.sqrt(10),y=Math.sqrt(2);function g(t,i,n){var r=(i-t)/Math.max(0,n),e=Math.floor(Math.log(r)/Math.LN10),h=r/Math.pow(10,e);return e>=0?(h>=v?10:h>=M?5:h>=y?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(h>=v?10:h>=M?5:h>=y?2:1)}function x(t,i){i||(i=[]);var n,r=t?Math.min(i.length,t.length):0,e=i.slice();return function(h){for(n=0;n<r;++n)e[n]=t[n]*(1-h)+i[n]*h;return e}}function m(t,i){var n,r=i?i.length:0,e=t?Math.min(r,t.length):0,h=new Array(e),a=new Array(r);for(n=0;n<e;++n)h[n]=p(t[n],i[n]);for(;n<r;++n)a[n]=i[n];return function(t){for(n=0;n<e;++n)a[n]=h[n](t);return a}}function b(t,i){var n=new Date;return t=+t,i=+i,function(r){return n.setTime(t*(1-r)+i*r),n}}function w(t,i){var n,r={},e={};for(n in null!==t&&"object"==typeof t||(t={}),null!==i&&"object"==typeof i||(i={}),i)n in t?r[n]=p(t[n],i[n]):e[n]=i[n];return function(t){for(n in r)e[n]=r[n](t);return e}}function p(t,i){var n,o,u=typeof i;return null==i||"boolean"===u?r(i):("number"===u?e:"string"===u?(n=h(i))?(i=n,a):s:i instanceof h?a:i instanceof Date?b:(o=i,!ArrayBuffer.isView(o)||o instanceof DataView?Array.isArray(i)?m:"function"!=typeof i.valueOf&&"function"!=typeof i.toString||isNaN(i)?w:e:x))(t,i)}function k(t,i){return t=+t,i=+i,function(n){return Math.round(t*(1-n)+i*n)}}function N(t,i){if((n=(t=i?t.toExponential(i-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function A(t){return(t=N(Math.abs(t)))?t[1]:NaN}var z,j=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $(t){if(!(i=j.exec(t)))throw new Error("invalid format: "+t);var i;return new q({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}function q(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function B(t,i){var n=N(t,i);if(!n)return t+"";var r=n[0],e=n[1];return e<0?"0."+new Array(-e).join("0")+r:r.length>e+1?r.slice(0,e+1)+"."+r.slice(e+1):r+new Array(e-r.length+2).join("0")}$.prototype=q.prototype,q.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const D={"%":function(t,i){return(100*t).toFixed(i)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,i){return t.toExponential(i)},f:function(t,i){return t.toFixed(i)},g:function(t,i){return t.toPrecision(i)},o:function(t){return Math.round(t).toString(8)},p:function(t,i){return B(100*t,i)},r:B,s:function(t,i){var n=N(t,i);if(!n)return t+"";var r=n[0],e=n[1],h=e-(z=3*Math.max(-8,Math.min(8,Math.floor(e/3))))+1,a=r.length;return h===a?r:h>a?r+new Array(h-a+1).join("0"):h>0?r.slice(0,h)+"."+r.slice(h):"0."+new Array(1-h).join("0")+N(t,Math.max(0,i+h-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function S(t){return t}var E,P,R,X=Array.prototype.map,_=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function F(t){return+t}E=function(t){var i,n,r=void 0===t.grouping||void 0===t.thousands?S:(i=X.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var e=t.length,h=[],a=0,s=i[0],o=0;e>0&&s>0&&(o+s+1>r&&(s=Math.max(1,r-o)),h.push(t.substring(e-=s,e+s)),!((o+=s+1)>r));)s=i[a=(a+1)%i.length];return h.reverse().join(n)}),e=void 0===t.currency?"":t.currency[0]+"",h=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?S:function(t){return function(i){return i.replace(/[0-9]/g,(function(i){return t[+i]}))}}(X.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"-":t.minus+"",f=void 0===t.nan?"NaN":t.nan+"";function c(t){var i=(t=$(t)).fill,n=t.align,c=t.sign,l=t.symbol,d=t.zero,v=t.width,M=t.comma,y=t.precision,g=t.trim,x=t.type;"n"===x?(M=!0,x="g"):D[x]||(void 0===y&&(y=12),g=!0,x="g"),(d||"0"===i&&"="===n)&&(d=!0,i="0",n="=");var m="$"===l?e:"#"===l&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",b="$"===l?h:/[%p]/.test(x)?o:"",w=D[x],p=/[defgprs%]/.test(x);function k(t){var e,h,o,l=m,k=b;if("c"===x)k=w(t)+k,t="";else{var N=(t=+t)<0||1/t<0;if(t=isNaN(t)?f:w(Math.abs(t),y),g&&(t=function(t){t:for(var i,n=t.length,r=1,e=-1;r<n;++r)switch(t[r]){case".":e=i=r;break;case"0":0===e&&(e=r),i=r;break;default:if(!+t[r])break t;e>0&&(e=0)}return e>0?t.slice(0,e)+t.slice(i+1):t}(t)),N&&0==+t&&"+"!==c&&(N=!1),l=(N?"("===c?c:u:"-"===c||"("===c?"":c)+l,k=("s"===x?_[8+z/3]:"")+k+(N&&"("===c?")":""),p)for(e=-1,h=t.length;++e<h;)if(48>(o=t.charCodeAt(e))||o>57){k=(46===o?a+t.slice(e+1):t.slice(e))+k,t=t.slice(0,e);break}}M&&!d&&(t=r(t,1/0));var A=l.length+t.length+k.length,j=A<v?new Array(v-A+1).join(i):"";switch(M&&d&&(t=r(j+t,j.length?v-k.length:1/0),j=""),n){case"<":t=l+t+k+j;break;case"=":t=l+j+t+k;break;case"^":t=j.slice(0,A=j.length>>1)+l+t+k+j.slice(A);break;default:t=j+l+t+k}return s(t)}return y=void 0===y?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),k.toString=function(){return t+""},k}return{format:c,formatPrefix:function(t,i){var n=c(((t=$(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(A(i)/3))),e=Math.pow(10,-r),h=_[8+r/3];return function(t){return n(e*t)+h}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),P=E.format,R=E.formatPrefix;var G=[0,1];function H(t){return t}function J(t,i){return(i-=t=+t)?function(n){return(n-t)/i}:(n=isNaN(i)?NaN:.5,function(){return n});var n}function O(t){var i,n=t[0],r=t[t.length-1];return n>r&&(i=n,n=r,r=i),function(t){return Math.max(n,Math.min(r,t))}}function T(t,i,n){var r=t[0],e=t[1],h=i[0],a=i[1];return e<r?(r=J(e,r),h=n(a,h)):(r=J(r,e),h=n(h,a)),function(t){return h(r(t))}}function V(t,i,n){var r=Math.min(t.length,i.length)-1,e=new Array(r),h=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),i=i.slice().reverse());++a<r;)e[a]=J(t[a],t[a+1]),h[a]=n(i[a],i[a+1]);return function(i){var n=o(t,i,1,r)-1;return h[n](e[n](i))}}function Y(t,i){return i.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Z(t,i){return function(){var t,i,n,r,h,a,s=G,o=G,u=p,f=H;function d(){return r=Math.min(s.length,o.length)>2?V:T,h=a=null,v}function v(i){return isNaN(i=+i)?n:(h||(h=r(s.map(t),o,u)))(t(f(i)))}return v.invert=function(n){return f(i((a||(a=r(o,s.map(t),e)))(n)))},v.domain=function(t){return arguments.length?(s=c.call(t,F),f===H||(f=O(s)),d()):s.slice()},v.range=function(t){return arguments.length?(o=l.call(t),d()):o.slice()},v.rangeRound=function(t){return o=l.call(t),u=k,d()},v.clamp=function(t){return arguments.length?(f=t?O(s):H,v):f!==H},v.interpolate=function(t){return arguments.length?(u=t,d()):u},v.unknown=function(t){return arguments.length?(n=t,v):n},function(n,r){return t=n,i=r,d()}}()(t,i)}function C(t){var i=t.domain;return t.ticks=function(t){var n=i();return function(t,i,n){var r,e,h,a,s=-1;if(n=+n,(t=+t)==(i=+i)&&n>0)return[t];if((r=i<t)&&(e=t,t=i,i=e),0===(a=g(t,i,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),i=Math.floor(i/a),h=new Array(e=Math.ceil(i-t+1));++s<e;)h[s]=(t+s)*a;else for(t=Math.floor(t*a),i=Math.ceil(i*a),h=new Array(e=Math.ceil(t-i+1));++s<e;)h[s]=(t-s)/a;return r&&h.reverse(),h}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=i();return function(t,i,n,r){var e,h=function(t,i,n){var r=Math.abs(i-t)/Math.max(0,n),e=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),h=r/e;return h>=v?e*=10:h>=M?e*=5:h>=y&&(e*=2),i<t?-e:e}(t,i,n);switch((r=$(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(i));return null!=r.precision||isNaN(e=function(t,i){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(A(i)/3)))-A(Math.abs(t)))}(h,a))||(r.precision=e),R(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(e=function(t,i){return t=Math.abs(t),i=Math.abs(i)-t,Math.max(0,A(i)-A(t))+1}(h,Math.max(Math.abs(t),Math.abs(i))))||(r.precision=e-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(e=function(t){return Math.max(0,-A(Math.abs(t)))}(h))||(r.precision=e-2*("%"===r.type))}return P(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,e=i(),h=0,a=e.length-1,s=e[h],o=e[a];return o<s&&(r=s,s=o,o=r,r=h,h=a,a=r),(r=g(s,o,n))>0?r=g(s=Math.floor(s/r)*r,o=Math.ceil(o/r)*r,n):r<0&&(r=g(s=Math.ceil(s*r)/r,o=Math.floor(o*r)/r,n)),r>0?(e[h]=Math.floor(s/r)*r,e[a]=Math.ceil(o/r)*r,i(e)):r<0&&(e[h]=Math.ceil(s*r)/r,e[a]=Math.floor(o*r)/r,i(e)),t},t}function I(){var t=Z(H,H);return t.copy=function(){return Y(t,I())},d.apply(t,arguments),C(t)}const K=class{constructor(i){t(this,i),this.orientation="horizontal",this.fill="rgb(200,200,200)",this.secondLevelFill="rgb(100,100,100)",this.thirdLevelFill="rgb(0,0,0)",this.exceedMaxLineStroke="rgb(255,255,255)"}render(){let t,r,e;return void 0!==this.minValue&&(void 0!==this.maxValue&&(t=I().domain([this.minValue,this.maxValue]).range([0,100]).clamp(!0)),void 0!==this.secondLevelMaxValue&&(r=I().domain([this.maxValue,this.secondLevelMaxValue]).range([0,100]).clamp(!0)),void 0!==this.thirdLevelMaxValue&&(e=I().domain([this.secondLevelMaxValue,this.thirdLevelMaxValue]).range([0,100]).clamp(!0))),i(n,null,i("svg",{id:"main-svg",viewBox:"0 0 100 100",preserveAspectRatio:"none"},i("title",null,this.value),"horizontal"===this.orientation?i("g",null,t&&i("rect",{id:"first-segment",x:"0",y:"0",width:this.adjustedScale(this.value,t,this.minValue,this.maxValue,0,100),height:"100",fill:this.fill}),r&&i("rect",{id:"second-segment",x:"0",y:"15",width:this.adjustedScale(this.value,r,this.maxValue,this.secondLevelMaxValue,0,100),height:"70",fill:this.secondLevelFill}),e&&i("rect",{id:"third-segment",x:"0",y:"30",width:this.adjustedScale(this.value,e,this.secondLevelMaxValue,this.thirdLevelMaxValue,0,100),height:"40",fill:this.thirdLevelFill}),(this.value>this.thirdLevelMaxValue||!e&&this.value>this.secondLevelMaxValue||!e&&!r&&this.value>this.maxValue)&&i("line",{id:"exceed-max-line",x1:"0",y1:"50",x2:"100",y2:"50",stroke:this.exceedMaxLineStroke,"stroke-width":"5"})):i("g",null,t&&i("rect",{id:"first-segment",x:"0",y:"0",width:"100",height:t(this.value),fill:this.fill}),r&&i("rect",{id:"second-segment",x:"15",y:"0",width:"70",height:r(this.value),fill:this.secondLevelFill}),e&&i("rect",{id:"third-segment",x:"30",y:"0",width:"40",height:e(this.value),fill:this.thirdLevelFill}),(this.value>this.thirdLevelMaxValue||!e&&this.value>this.secondLevelMaxValue||!e&&!r&&this.value>this.maxValue)&&i("line",{id:"exceed-max-line",x1:"50",y1:"0",x2:"50",y2:"100",stroke:this.exceedMaxLineStroke,"stroke-width":"5"}))))}adjustedScale(t,i,n,r,e,h){return this.value<=n?e:this.value>=r?h:i(t)}};K.style=":host{display:block}#main-svg{width:100%;height:100%}";const L=class{constructor(i){t(this,i),this.orientation="horizontal",this.boxFill="rgb(240,255,255)",this.boxStroke="rgb(0,0,0)",this.connectionLineStroke="rgb(0,0,0)",this.minLineStroke="rgb(0,0,0)",this.medianLineStroke="rgb(0,0,0)",this.maxLineStroke="rgb(0,0,0)"}render(){let t=[];Array.isArray(this.values)?t=this.values:"string"==typeof this.values&&(t=JSON.parse(this.values));const r=t.sort(u),e=f(r,.25),h=f(r,.5),a=f(r,.75),s=Math.min(...r),o=Math.max(...r),c=void 0===this.scaleMinValue?s:this.scaleMinValue,l=void 0===this.scaleMaxValue?o:this.scaleMaxValue,d=I().domain([c,l]).range([0,100]);return i(n,null,i("svg",{id:"main-svg",viewBox:"horizontal"===this.orientation?"0 0 100 10":"0 0 10 100",preserveAspectRatio:"none"},i("title",null,"min: "+s+"\n25%: "+e+"\nmedian: "+h+"\n75%: "+a+"\nmax: "+o),"horizontal"===this.orientation?i("g",null,i("line",{id:"min-line",x1:d(s),y1:"0",x2:d(s),y2:"10",stroke:this.minLineStroke}),i("line",{id:"min-q1-line",x1:d(s),y1:"5",x2:d(e),y2:"5",stroke:this.connectionLineStroke}),i("rect",{id:"box",x:d(e),y:"0",width:d(a)-d(e),height:"10",stroke:this.boxStroke,fill:this.boxFill}),i("line",{id:"median-line",x1:d(h),y1:"0",x2:d(h),y2:"10",stroke:this.medianLineStroke}),i("line",{id:"q1-max-line",x1:d(a),y1:"5",x2:d(o),y2:"5",stroke:this.connectionLineStroke}),i("line",{id:"max-line",x1:d(o),y1:"0",x2:d(o),y2:"10",stroke:this.maxLineStroke})):i("g",null,i("line",{id:"min-line",x1:"0",y1:d(s),x2:"10",y2:d(s),stroke:this.minLineStroke}),i("line",{id:"min-q1-line",x1:"5",y1:d(s),x2:"5",y2:d(e),stroke:this.connectionLineStroke}),i("rect",{id:"box",x:"0",y:d(e),width:"10",height:d(a)-d(e),stroke:this.boxStroke,fill:this.boxFill}),i("line",{id:"median-line",x1:"0",y1:d(h),x2:"10",y2:d(h),stroke:this.medianLineStroke}),i("line",{id:"q1-max-line",x1:"5",y1:d(a),x2:"5",y2:d(o),stroke:this.connectionLineStroke}),i("line",{id:"max-line",x1:"0",y1:d(o),x2:"10",y2:d(o),stroke:this.maxLineStroke}))))}};L.style=":host{display:block}#main-svg{width:100%;height:100%}";export{K as s_bar,L as s_box}