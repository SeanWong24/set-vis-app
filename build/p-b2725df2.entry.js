import{r as i,h as t,H as s}from"./p-ddbb1df8.js";import"./p-bec3b19e.js";import"./p-58d13c5e.js";import"./p-f3a0c163.js";import{l as n}from"./p-d5d1c985.js";import{s as o}from"./p-38942298.js";const e=class{constructor(t){i(this,t),this.parallelSetsRibbonTension=.5}async connectedCallback(){this.SQL=await o({locateFile:i=>"./assets/sql.js/"+i})}render(){var i;return t(s,null,t("ion-header",null,t("ion-toolbar",{color:"primary"},t("ion-title",null,"Clone Vis"," - "+((null===(i=this.file)||void 0===i?void 0:i.name)||"No File Opened")),t("ion-buttons",{slot:"start"},t("ion-back-button",{defaultHref:"/"})),t("ion-buttons",{slot:"end"},t("ion-button",{title:"Open",onClick:()=>this.fileInputElement.click()},t("ion-icon",{slot:"icon-only",name:"open"}))))),t("ion-content",{class:"ion-padding"},t("ion-item",null,t("ion-label",null,"Parallel Sets Ribbon Tension"),t("ion-range",{min:0,max:1,step:.1,snaps:!0,ticks:!0,value:this.parallelSetsRibbonTension,onIonChange:({detail:i})=>this.parallelSetsRibbonTension=i.value},t("ion-label",{slot:"start"},"0"),t("ion-label",{slot:"end"},"1"))),t("s-set-vis",{data:this.data,parallelSetsRibbonTension:this.parallelSetsRibbonTension,parallelSetsDimensions:["frequency","startingRevision","directoryPath","classId"],statisticsPlotGroupDefinitions:[{dimensionName:"size",visType:"box"},{dimensionName:"totalAdditionCount",visType:"box"},{dimensionName:"totalDeletionCount",visType:"box"}]})),t("input",{id:"file-input",type:"file",ref:i=>this.fileInputElement=i,onInput:async({target:i})=>{var t,s;this.file=null===(t=i.files)||void 0===t?void 0:t[0];const o=await n.create({message:`Opening ${this.file.name}...`});await o.present();const e=await this.file.arrayBuffer();this.DB=new this.SQL.Database(new Uint8Array(e)),await o.dismiss();const a=await(await fetch("./assets/query.sql")).text(),l=null===(s=this.DB.exec(a))||void 0===s?void 0:s[0],r=l.values.map(i=>{const t={};for(let s=0;s<i.length;s++)t[l.columns[s]]=i[s];return t.directoryPath=t.filePath.replace(/(.*?)[^/]*\..*$/,"$1"),t});this.data=r}}))}};e.style=".sc-app-clone-vis-h{display:block}#file-input.sc-app-clone-vis{display:none}s-set-vis.sc-app-clone-vis{height:600px;widows:100%}";export{e as app_clone_vis}